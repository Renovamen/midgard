var V=Object.defineProperty;var A=(o,e,t)=>e in o?V(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>(A(o,typeof e!="symbol"?e+"":e,t),t);import{h as _,U as E,G as B,d as I,q as $,u as d,o as h,c as p,H as b,e as r,t as u,I as K,s as D,a as k,w as R,F as w,b as N,B as S,k as x,m as z,v as M,J as G,K as U,L as j,A as F,n as J,M as Q,p as Y,f as W}from"./index-b679a6a5.js";const Se={ROAD:"0",HERO:"1",STICK:"2",END:"3",PATH:"4"},C=["基本","教育","课程","技能","兴趣","研究1","研究2","研究3","研究4","研究5","项目","论文","实习","经历"],q=["ghostwhite","springgreen","violet","orange"],X={MENU:{opensorce:"https://github.com/Renovamen",blog:"https://zxh.io",email:"mailto:renovamenzxh@gmail.com"},CV_LINK:"https://zxh.io/files/cv/en.pdf"};class Z{constructor(e,t){m(this,"from");m(this,"to");m(this,"trigger",()=>{for(const e of[this.nothing,this.destory,this.equip,this.merge,this.change])if(e())return!0});m(this,"nothing",()=>this.from.type===this.to.type&&this.from.index===this.to.index);m(this,"destory",()=>{if(this.to.type==="destory")return this.from.set(),!0});m(this,"equip",()=>{const{equip:e}=_(),t=this.from.get();if(this.from.type==="package"&&t&&this.to.type==="resumes")return e(this.from.index),!0});m(this,"merge",()=>{const e=this.from.get(),t=this.to.get();if(e&&t&&e.id===t.id&&e.pile&&t.pile)return t.num+=e.num,this.from.set(),!0});m(this,"change",()=>{const e=this.from.get(),t=this.to.get();return this.from.type==="resumes"&&this.to.type==="resumes"||this.from.type!==this.to.type&&e&&t&&e.equipType!==t.equipType?!1:(this.from.set(t),this.to.set(e),!0)});this.from=e,this.to=t}}class H{constructor(e,t){m(this,"type");m(this,"index");m(this,"get",()=>{const{hero:e}=_();return this.type==="destory"?void 0:e[this.type][this.index]});m(this,"set",e=>{if(this.type==="destory")return;const{setHeroItem:t}=_();t(this.type,this.index,e)});this.type=e,this.index=t}}function ee(o,e){const t=".item-tip",a=e.value,c={click:()=>{a!=null&&a.link&&window.open(a.link.url)},mouseenter:n=>{c.mouseleave();const s=document.createElement("div"),{right:i,top:l}=n.target.getBoundingClientRect(),g=((window.innerHeight-10)/E.HEIGHT-1)*E.HEIGHT/2+5;Object.assign(s.style,{left:`${i}px`,top:`${l-g}px`}),Object.assign(s,{className:t.slice(1),innerHTML:`
          <div class="name" :style="{ color: this.itemColor }">
            {{ this.item.name }}
          </div>

          <div v-if="this.changeHp" class="equip">梦想 {{ this.changeHp }}</div>

          <div v-for="dsc in item.dsc" v-html="dsc"></div>
          <img v-for="img in item.img" :src='img' />

          <button class="btn" v-if="item.link">{{ item.link.text }}</button>
        `}),document.querySelector("#app").appendChild(s),B({created(){var T;this.item=a,this.itemColor=q[this.item.grade||0],this.changeHp=(T=this.item.equip)==null?void 0:T.changeHp,this.changeHp&&this.changeHp>0&&(this.changeHp="+"+this.changeHp)}}).mount(t)},mouseleave:()=>{const n=document.querySelector(t);n&&n.parentNode.removeChild(n)}};for(const n in c){const s=c[n],i=`${n}_TOOL_TIP_EVENT`;o.removeEventListener(n,o[i]),a&&(o.addEventListener(n,s),o[i]=s)}}function te(o,e){const{hero:t}=_(),{type:a,index:c}=e.value,n={dragend:s=>{var i,l;(i=s.dataTransfer)==null||i.clearData("type"),(l=s.dataTransfer)==null||l.clearData("index")},dragover:s=>{s.preventDefault()},dragstart:s=>{var l;if(!s.dataTransfer)return;s.dataTransfer.setData("type",a),s.dataTransfer.setData("index",String(c));try{s.dataTransfer.setDragImage(s.target,20,20)}catch{}const i=document.querySelector(".item-tip");i&&((l=i.parentNode)==null||l.removeChild(i))},drop:s=>{if(s.preventDefault(),!s.dataTransfer)return;const i=new H(s.dataTransfer.getData("type"),Number(s.dataTransfer.getData("index"))),l=new H(a,c);new Z(i,l).trigger()}};a!=="destory"&&t[a][c]?o.setAttribute("draggable","true"):o.removeAttribute("draggable");for(const s in n){const i=n[s],l=`${s}_DRAG_DROP_EVENT`;o.removeEventListener(s,o[l]),o.addEventListener(s,i),o[l]=i}}const se={class:"relative h-11 w-11 bg-item inline-block align-top text-white cursor-pointer rounded-sm overflow-hidden hover:shadow-inbox"},oe={key:0},ne={key:0,class:"badges"},ie={key:1,class:"badges"},re={key:1},ae={class:"name"},ce=I({__name:"PackageItem",props:{item:{},type:{},index:{}},setup(o){return(e,t)=>$((h(),p("div",se,[e.item?(h(),p("div",oe,[b(e.$slots,"item-name",{},()=>[r("div",{class:"name",style:K({color:d(q)[e.item.grade||0]})},u(e.item.name),5)],!0),b(e.$slots,"badges",{},()=>[e.item.equipType!==void 0&&e.item.equipType>-1?(h(),p("div",ne,u(d(C)[e.item.equipType]),1)):e.item.num?(h(),p("div",ie,u(e.item.num),1)):D("",!0)],!0)])):(h(),p("div",re,[b(e.$slots,"item-name",{},()=>[r("div",ae,u(e.type==="resumes"?d(C)[e.index]:""),1)],!0)]))])),[[d(ee),e.item],[d(te),{type:e.type,index:e.index}]])}});const L=(o,e)=>{const t=o.__vccOpts||o;for(const[a,c]of e)t[a]=c;return t},P=L(ce,[["__scopeId","data-v-c0970fe7"]]),de={flex:"","flex-col":"","space-y-2":""},le={class:"w-full flex items-end justify-between pr-1.5"},me=r("div",{class:"bg-label h-11 w-15 leading-11 rounded-sm",text:"white center"},"背包",-1),he={hstack:"","space-x-1.5":""},pe=r("div",{"i-mdi:recycle":""},null,-1),ue={"overflow-scroll":"",grid:"","grid-cols-10":"","gap-y-1":""},qe=I({__name:"Package",setup(o){const{hero:e,sortItemsInPackage:t}=_();return(a,c)=>{const n=P;return h(),p("div",de,[r("div",le,[me,r("div",he,[r("button",{class:"btn w-11 h-7.5 border-label hover:bg-label text-xs",onClick:c[0]||(c[0]=(...s)=>d(t)&&d(t)(...s))}," 整理 "),k(n,{class:"!h-7.5 !bg-trash text-center text-sm/7.5",type:"destory",index:0},{"item-name":R(()=>[pe]),_:1})])]),r("div",ue,[(h(!0),p(w,null,N(d(e).package,(s,i)=>(h(),S(n,{key:i,item:s,index:i,type:"package"},null,8,["item","index"]))),128))])])}}}),_e="/images/hero.svg",O=o=>(Y("data-v-21622ce2"),o=o(),W(),o),ge={"pr-6":""},ve={"mb-2":""},fe={hstack:""},ye=O(()=>r("img",{src:_e},null,-1)),be=[ye],xe={class:"label relative flex-1 ml-2.5 text-[22px]"},ke=["onKeyup"],we={flex:"","mt-2":""},Ie={"w-15":"","text-right":"","space-y-1":""},Te={"flex-1":"","ml-1":"",grid:"","grid-cols-4":"","gap-1":""},Ee={hstack:"","space-x-2":""},Ce=O(()=>r("div",{class:"label w-15"},"梦想",-1)),He={class:"text-rose-400 text-lg"},$e=I({__name:"HomeInfo",setup(o){const e=_(),t=x(!1);z(e.hero.resumes,()=>t.value=e.hero.resumes.every(l=>l));const a=()=>t.value&&window.open(X.CV_LINK),c=x(!1),n=x(""),s=()=>{c.value=!c.value,n.value=""},i=()=>{n.value=="xiaohanzouissocool"?Q():n.value="作弊码错误！"};return(l,v)=>{const f=P;return h(),p("div",ge,[r("div",ve,[r("div",fe,[r("div",{class:"inline-block w-11 h-11 bg-label rounded-sm hover:shadow-inbox-sm",onClick:s},be),r("div",xe,[$(r("input",{"onUpdate:modelValue":v[0]||(v[0]=g=>U(n)?n.value=g:null),class:"absolute outline-none bg-label border border-white rounded w-[180px] h-7.5 inset-0 m-auto px-1",onKeyup:j(i,["enter"])},null,40,ke),[[M,d(c)],[G,d(n)]]),F(" 去找简历吧勇士 ")])]),r("div",we,[r("div",Ie,[r("div",{class:J(["label w-15",["label w-15",d(t)&&"!bg-rose-400 hover:shadow-inbox cursor-pointer"]]),onClick:a},u(d(t)?"兑换":"收集"),3),k(f,{type:"resumes",index:0,item:d(e).hero.resumes[0]},null,8,["item"]),k(f,{type:"resumes",index:1,item:d(e).hero.resumes[1]},null,8,["item"])]),r("div",Te,[(h(!0),p(w,null,N(d(e).hero.resumes,(g,y)=>(h(),p(w,null,[y>1?(h(),S(f,{key:y,item:g,index:y,type:"resumes"},null,8,["item","index"])):D("",!0)],64))),256))])])]),r("div",Ee,[Ce,r("div",He,u(d(e).hp),1)])])}}});const Le=L($e,[["__scopeId","data-v-21622ce2"]]);export{Se as B,q as I,X as P,L as _,Le as a,qe as b};
