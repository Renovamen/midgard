var O=Object.defineProperty;var A=(o,e,t)=>e in o?O(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>(A(o,typeof e!="symbol"?e+"":e,t),t);import{h as f,U as H,H as V,d as E,m as x,u as d,o as m,c as h,F as v,e as i,t as _,x as B,q as w,I as R,a as K,w as z,b as I,E as T,k,l as M,v as D,J as G,K as U,L as j,n as F,P as J,p as Q,f as Y,M as W}from"./index-CUQ9CjfO.js";const He={ROAD:"0",HERO:"1",STICK:"2",END:"3",PATH:"4"},S=["基本","教育","论文","实习","研究1","研究2","研究3","研究4","研究5","项目","课程","技能","兴趣","经历"],N=["ghostwhite","springgreen","violet","orange"];class X{constructor(e,t){p(this,"from");p(this,"to");p(this,"trigger",()=>{for(const e of[this.nothing,this.destory,this.equip,this.merge,this.change])if(e())return!0});p(this,"nothing",()=>this.from.type===this.to.type&&this.from.index===this.to.index);p(this,"destory",()=>{if(this.to.type==="destory")return this.from.set(),!0});p(this,"equip",()=>{const{equip:e}=f(),t=this.from.get();if(this.from.type==="package"&&t&&this.to.type==="resumes")return e(this.from.index),!0});p(this,"merge",()=>{const e=this.from.get(),t=this.to.get();if(e&&t&&e.id===t.id&&e.pile&&t.pile)return t.num+=e.num,this.from.set(),!0});p(this,"change",()=>{const e=this.from.get(),t=this.to.get();return this.from.type==="resumes"&&this.to.type==="resumes"||this.from.type!==this.to.type&&e&&t&&e.equipType!==t.equipType?!1:(this.from.set(t),this.to.set(e),!0)});this.from=e,this.to=t}}class ${constructor(e,t){p(this,"type");p(this,"index");p(this,"get",()=>{const{hero:e}=f();return this.type==="destory"?void 0:e[this.type][this.index]});p(this,"set",e=>{if(this.type==="destory")return;const{setHeroItem:t}=f();t(this.type,this.index,e)});this.type=e,this.index=t}}function Z(o,e){const t=".item-tip",c=e.value,a={click:()=>{c!=null&&c.link&&window.open(c.link.url)},mouseenter:n=>{a.mouseleave();const s=document.createElement("div"),{right:r,top:l}=n.target.getBoundingClientRect(),g=((window.innerHeight-10)/H.HEIGHT-1)*H.HEIGHT/2+5;Object.assign(s.style,{left:`${r}px`,top:`${l-g}px`}),Object.assign(s,{className:t.slice(1),innerHTML:`
          <div class="name" :style="{ color: this.itemColor }">
            {{ this.item.name }}
          </div>

          <div v-if="this.changeHp" class="equip">梦想 {{ this.changeHp }}</div>

          <div v-for="dsc in item.dsc" v-html="dsc"></div>
          <img v-for="img in item.img" :src='img' />

          <button class="btn" v-if="item.link">{{ item.link.text }}</button>
        `}),document.querySelector("#app").appendChild(s),V({created(){var C;this.item=c,this.itemColor=N[this.item.grade||0],this.changeHp=(C=this.item.equip)==null?void 0:C.changeHp,this.changeHp&&this.changeHp>0&&(this.changeHp="+"+this.changeHp)}}).mount(t)},mouseleave:()=>{const n=document.querySelector(t);n&&n.parentNode.removeChild(n)}};for(const n in a){const s=a[n],r=`${n}_TOOL_TIP_EVENT`;o.removeEventListener(n,o[r]),c&&(o.addEventListener(n,s),o[r]=s)}}function ee(o,e){const{hero:t}=f(),{type:c,index:a}=e.value,n={dragend:s=>{var r,l;(r=s.dataTransfer)==null||r.clearData("type"),(l=s.dataTransfer)==null||l.clearData("index")},dragover:s=>{s.preventDefault()},dragstart:s=>{var l;if(!s.dataTransfer)return;s.dataTransfer.setData("type",c),s.dataTransfer.setData("index",String(a));try{s.dataTransfer.setDragImage(s.target,20,20)}catch{}const r=document.querySelector(".item-tip");r&&((l=r.parentNode)==null||l.removeChild(r))},drop:s=>{if(s.preventDefault(),!s.dataTransfer)return;const r=new $(s.dataTransfer.getData("type"),Number(s.dataTransfer.getData("index"))),l=new $(c,a);new X(r,l).trigger()}};c!=="destory"&&t[c][a]?o.setAttribute("draggable","true"):o.removeAttribute("draggable");for(const s in n){const r=n[s],l=`${s}_DRAG_DROP_EVENT`;o.removeEventListener(s,o[l]),o.addEventListener(s,r),o[l]=r}}const te={class:"relative size-11 bg-item inline-block align-top text-white cursor-pointer rounded-sm overflow-hidden hover:shadow-inbox"},se={key:0,class:"badge"},oe={key:1,class:"badge"},ne={class:"name"},ie=E({__name:"PackageItem",props:{item:{},type:{},index:{}},setup(o){return(e,t)=>x((m(),h("div",te,[e.item?(m(),h(v,{key:0},[i("div",{class:"name",style:B({color:d(N)[e.item.grade||0]})},_(e.item.name),5),e.item.equipType!==void 0&&e.item.equipType>-1?(m(),h("div",se,_(d(S)[e.item.equipType]),1)):e.item.num?(m(),h("div",oe,_(e.item.num),1)):w("",!0)],64)):R(e.$slots,"item-name",{key:1},()=>[i("div",ne,_(e.type==="resumes"?d(S)[e.index]:""),1)],!0)])),[[d(Z),e.item],[d(ee),{type:e.type,index:e.index}]])}}),q=(o,e)=>{const t=o.__vccOpts||o;for(const[c,a]of e)t[c]=a;return t},L=q(ie,[["__scopeId","data-v-32f0a603"]]),re={flex:"","flex-col":"","space-y-2":""},ae={class:"w-full flex items-end justify-between pr-1.5"},ce=i("div",{class:"bg-label h-11 w-15 leading-11 rounded-sm",text:"white center"},"背包",-1),de={hstack:"","space-x-1.5":""},le=i("div",{"i-mdi:recycle":""},null,-1),me={"overflow-scroll":"",grid:"~ cols-10 gap-y-1"},De=E({__name:"Package",setup(o){const{hero:e,sortItemsInPackage:t}=f();return(c,a)=>{const n=L;return m(),h("div",re,[i("div",ae,[ce,i("div",de,[i("button",{class:"btn w-11 h-7.5 border-label hover:bg-label text-xs",onClick:a[0]||(a[0]=(...s)=>d(t)&&d(t)(...s))}," 整理 "),K(n,{class:"!h-7.5 !bg-trash text-center text-sm/7.5",type:"destory",index:-1},{"item-name":z(()=>[le]),_:1})])]),i("div",me,[(m(!0),h(v,null,I(d(e).package,(s,r)=>(m(),T(n,{key:r,item:s,index:r,type:"package"},null,8,["item","index"]))),128))])])}}}),pe="/images/hero.svg",P=o=>(Q("data-v-a7e12752"),o=o(),Y(),o),he={"pr-6":""},ue={"mb-2":""},ge={hstack:"","space-x-2.5":""},ve=P(()=>i("img",{src:pe},null,-1)),_e=[ve],fe={class:"label relative flex-1 flex-center text-[22px]"},ye={"mt-2":"","space-y-1":""},be={hstack:"","space-x-1":""},ke={"pl-4":"",grid:"~ cols-5 gap-1"},xe={hstack:"","space-x-2":""},we=P(()=>i("div",{class:"label w-15"},"梦想",-1)),Ie={text:"rose-400 lg"},Te=E({__name:"HomeInfo",setup(o){const e=f(),t=k(!1);M(e.hero.resumes,()=>t.value=e.hero.resumes.every(l=>l));const c=()=>t.value&&window.open(J.CV_LINK),a=k(!1),n=k(""),s=()=>{a.value=!a.value,n.value=""},r=()=>{n.value=="xiaohanzouissocool"?W():n.value="作弊码错误！"};return(l,y)=>{const b=L;return m(),h("div",he,[i("div",ue,[i("div",ge,[i("div",{class:"inline-block size-11 bg-label rounded-sm hover:shadow-inbox-sm",onClick:s},_e),i("div",fe,[x(i("input",{"onUpdate:modelValue":y[0]||(y[0]=g=>U(n)?n.value=g:null),class:"w-[180px] h-7.5 px-1 bg-transparent outline-none",border:"~ white rounded",onKeyup:j(r,["enter"])},null,544),[[D,d(a)],[G,d(n)]]),x(i("span",null,"去找简历吧勇士",512),[[D,!d(a)]])])]),i("div",ye,[i("div",be,[i("div",{class:F(["label w-15",d(t)&&"!bg-rose-400 hover:shadow-inbox cursor-pointer"]),onClick:c},_(d(t)?"兑换":"收集"),3),(m(!0),h(v,null,I(d(e).hero.resumes,(g,u)=>(m(),h(v,null,[u<4?(m(),T(b,{key:u,item:g,index:u,type:"resumes"},null,8,["item","index"])):w("",!0)],64))),256))]),i("div",ke,[(m(!0),h(v,null,I(d(e).hero.resumes,(g,u)=>(m(),h(v,null,[u>=4?(m(),T(b,{key:u,item:g,index:u,type:"resumes"},null,8,["item","index"])):w("",!0)],64))),256))])])]),i("div",xe,[we,i("div",Ie,_(d(e).hp),1)])])}}}),Se=q(Te,[["__scopeId","data-v-a7e12752"]]);export{He as B,N as I,q as _,Se as a,De as b};
